(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{36173:function(e,a,t){Promise.resolve().then(t.bind(t,54625))},54625:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return h}});var s=t(15444),l=t(89300),r=t(75762),i=t(79047),n=t(41084),c=t(1946),d=t(64670);let u=(0,t(42154).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var o=t(35798),m=t(81059),x=t(12817);function h(){let[e,a]=(0,l.useState)(""),[t,h]=(0,l.useState)(""),[f,p]=(0,l.useState)(""),[y,g]=(0,l.useState)(""),[j,N]=(0,l.useState)(!1),[b,v]=(0,l.useState)(!1),w=(0,i.useRouter)(),{data:S,status:k}=(0,r.useSession)()||{};(0,l.useEffect)(()=>{v(!0)},[]),(0,l.useEffect)(()=>{b&&"authenticated"===k&&w.replace("/dashboard")},[k,w,b]);let C=async a=>{a.preventDefault(),g(""),N(!0);try{let a=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:f})}),s=await a.json();if(!a.ok){g(s.error||"Signup failed"),N(!1);return}let l=await (0,r.signIn)("credentials",{email:t,password:f,redirect:!1});l?.error?g("Signup successful but login failed. Please try logging in."):w.replace("/dashboard")}catch(e){g("An error occurred. Please try again.")}finally{N(!1)}};return b&&"loading"!==k?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0f1a] px-4",children:(0,s.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 mb-4",children:[(0,s.jsx)(d.Z,{className:"w-10 h-10 text-fuchsia-500"}),(0,s.jsx)("span",{className:"text-3xl font-bold gradient-text",children:"Deriv Bot"})]}),(0,s.jsx)("p",{className:"text-gray-400",children:"Create your trading account"})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[y&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg text-sm",children:y}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),className:"input-field pl-10",placeholder:"Enter your name",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,s.jsx)("input",{type:"email",value:t,onChange:e=>h(e.target.value),className:"input-field pl-10",placeholder:"Enter your email",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,s.jsx)("input",{type:"password",value:f,onChange:e=>p(e.target.value),className:"input-field pl-10",placeholder:"Create a password",required:!0,minLength:6})]})]}),(0,s.jsx)("button",{type:"submit",disabled:j,className:"btn-primary w-full flex items-center justify-center gap-2",children:j?(0,s.jsx)(c.Z,{className:"w-5 h-5 animate-spin"}):"Create Account"})]}),(0,s.jsxs)("div",{className:"mt-6 text-center text-gray-400",children:["Already have an account?"," ",(0,s.jsx)(n.default,{href:"/login",className:"text-fuchsia-400 hover:text-fuchsia-300",children:"Sign in"})]})]})]})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0f1a]",children:(0,s.jsx)(c.Z,{className:"w-8 h-8 animate-spin text-fuchsia-500"})})}}},function(e){e.O(0,[762,59,350,386,156,744],function(){return e(e.s=36173)}),_N_E=e.O()}]);