"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{83511:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var a=s(15444),i=s(48803),n=s(81909),l=s(5468),r=s(96516),d=s(86354),o=s(59160),c=s(90817),x=s(2760),f=s(10384),h=s(74272),u=s(89966),m=s(71639);function j(e,t){return(e??[]).map((s,a)=>a<t-1?null:e.slice(a-t+1,a+1).reduce((e,t)=>e+(t?.close??0),0)/t)}function p(e){let{type:t}=e;if("candles"===t){let t=e.candles??[];if(0===t.length)return(0,a.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Waiting for market data..."});let s=j(t,5),x=j(t,6),f=t.map((e,t)=>({time:new Date((e?.epoch??0)*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),close:e?.close??0,sma5:s[t],sma6:x[t]}));return(0,a.jsx)(i.h,{width:"100%",height:"100%",children:(0,a.jsxs)(n.w,{data:f,margin:{top:5,right:10,left:0,bottom:5},children:[(0,a.jsx)(l.K,{dataKey:"time",tick:{fontSize:10,fill:"#9ca3af"},tickLine:!1,interval:"preserveStartEnd"}),(0,a.jsx)(r.B,{domain:["auto","auto"],tick:{fontSize:10,fill:"#9ca3af"},tickLine:!1,tickFormatter:e=>e?.toFixed?.(4)??"0",width:60}),(0,a.jsx)(d.u,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #d946ef",borderRadius:"8px",fontSize:"11px"},labelStyle:{color:"#f8f8ff"}}),(0,a.jsx)(o.x,{type:"monotone",dataKey:"close",stroke:"#60B5FF",strokeWidth:2,dot:!1,name:"Price"}),(0,a.jsx)(o.x,{type:"monotone",dataKey:"sma5",stroke:"#22c55e",strokeWidth:1.5,dot:!1,name:"SMA 5",connectNulls:!0}),(0,a.jsx)(o.x,{type:"monotone",dataKey:"sma6",stroke:"#ef4444",strokeWidth:1.5,dot:!1,name:"SMA 6",connectNulls:!0}),(0,a.jsx)(c.D,{verticalAlign:"top",wrapperStyle:{fontSize:11}})]})})}if("balance"===t){let t=e.balanceHistory??[];if(0===t.length)return(0,a.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No trading history yet"});let s=t.map((e,t)=>({trade:t+1,balance:e?.balance??0}));return(0,a.jsx)(i.h,{width:"100%",height:"100%",children:(0,a.jsxs)(x.T,{data:s,margin:{top:5,right:10,left:0,bottom:5},children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"balanceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"#d946ef",stopOpacity:.3}),(0,a.jsx)("stop",{offset:"95%",stopColor:"#d946ef",stopOpacity:0})]})}),(0,a.jsx)(l.K,{dataKey:"trade",tick:{fontSize:10,fill:"#9ca3af"},tickLine:!1}),(0,a.jsx)(r.B,{tick:{fontSize:10,fill:"#9ca3af"},tickLine:!1,tickFormatter:e=>`$${e??0}`,width:50}),(0,a.jsx)(d.u,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #d946ef",borderRadius:"8px",fontSize:"11px"},formatter:e=>[`$${(e??0).toFixed(2)}`,"Balance"]}),(0,a.jsx)(f.u,{type:"monotone",dataKey:"balance",stroke:"#d946ef",fill:"url(#balanceGradient)",strokeWidth:2})]})})}if("winLoss"===t){let t=e.wins??0,s=e.losses??0;if(0===t+s)return(0,a.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No trades yet"});let n=[{name:"Wins",value:t},{name:"Losses",value:s}],l=["#22c55e","#ef4444"];return(0,a.jsxs)("div",{className:"h-full flex items-center",children:[(0,a.jsx)("div",{className:"w-1/2 h-full",children:(0,a.jsx)(i.h,{width:"100%",height:"100%",children:(0,a.jsxs)(h.u,{children:[(0,a.jsx)(u.b,{data:n,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>(0,a.jsx)(m.b,{fill:l[t%l.length]},`cell-${t}`))}),(0,a.jsx)(d.u,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #d946ef",borderRadius:"8px",fontSize:"11px"}})]})})}),(0,a.jsxs)("div",{className:"w-1/2 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-green-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-300",children:["Wins: ",t]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-red-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-300",children:["Losses: ",s]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-fuchsia-400",children:[(e.winRate??0).toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Win Rate"})]})]})]})}return null}}}]);